#!/bin/bash

#-------------------------------------------------------------------------------
# bspwm settings
#-------------------------------------------------------------------------------

# Color theme
source ~/.config/color_themes/current


# Load monitors info
source ~/.local/bin/moninfo

# Desktops
bspc monitor $PM_NAME -d terminal terminal code code code web music chat work
if [ -n "$LM_NAME" ]; then
    bspc monitor $LM_NAME -d home terminal code code
fi

# Colors
bspc config normal_border_color   $BASE01
bspc config focused_border_color  $BASE02
bspc config active_border_color   $BASE02
bspc config presel_feedback_color $BASE0F

# Windows
bspc config border_width          2
bspc config top_padding           0
bspc config window_gap            5
bspc config split_ratio           0.50
bspc config borderless_monocle    true
bspc config gapless_monocle       false
bspc config single_monocle        false
bspc config focus_follows_pointer false
bspc config click_to_focus        button1
bspc config pointer_modifier      mod4

# Placement
bspc rule -a Code                    -o desktop=primary:^3
bspc rule -a jetbrains-idea             desktop=primary:^5
bspc rule -a Google-chrome           -o desktop=primary:^6
bspc rule -a Spotify                    desktop=primary:^7
bspc rule -a Slack                      desktop=primary:^8
bspc rule -a Gimp                       state=floating
bspc rule -a Nautilus                   state=floating
bspc rule -a Transmission-gtk           state=floating
bspc rule -a Baobab                     state=floating
bspc rule -a KeePass2                   state=floating
bspc rule -a vlc                        state=floating
bspc rule -a feh                        state=floating
bspc rule -a Yad                        state=floating
bspc rule -a qjackctl                   state=floating
bspc rule -a sun-awt-X11-XDialogPeer    state=floating

#-------------------------------------------------------------------------------
# desktop environment
#-------------------------------------------------------------------------------

# Wallpaper
~/.fehbg &

# Audio
#qjackctl &

# Composting manager
 ~/.config/compton/launch &

# Notifications manager
~/.config/dunst/launch &

# Disk manager
#~/.config/udiskie/launch &

# Screen dimmer
#~/.config/redshift/launch &

# Panels
sleep 5
 ~/.config/polybar/launch &